{"version":3,"file":"main.6a899dad9eaaa35096e8.hot-update.js","mappings":"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","sources":["webpack://mediaserver/./wwwroot/source/app.js","webpack://mediaserver/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  useLocation,\r\n  useNavigate,\r\n} from \"react-router-dom\";\r\nimport { ThemeProvider, createTheme, CssBaseline } from \"@mui/material\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\nimport RoutesComponent from \"./components/RoutesComponent\";\r\nimport MyNavbar from \"./components/Navbar\";\r\nimport { UserProvider, UserContext } from \"./UserContext\";\r\n\r\n// Custom dark theme\r\nconst darkTheme = createTheme({\r\n  palette: {\r\n    mode: \"dark\",\r\n    primary: {\r\n      main: \"#6366F1\", // Slightly warmer indigo for a modern feel\r\n      light: \"#A5B4FC\",\r\n      dark: \"#3730A3\",\r\n    },\r\n    secondary: {\r\n      main: \"#10B981\", // Emerald green for fresh secondary accents\r\n    },\r\n    background: {\r\n      default: \"#0F0F23\", // Deeper cosmic dark\r\n      paper: \"#1A1A2E\", // Subtle contrast for surfaces\r\n    },\r\n    text: {\r\n      primary: \"#F8FAFC\", // Crisp white for readability\r\n      secondary: \"#CBD5E1\", // Softer gray for secondary text\r\n    },\r\n    divider: \"#334155\", // Muted divider color\r\n  },\r\n  components: {\r\n    MuiCard: {\r\n      styleOverrides: {\r\n        root: {\r\n          borderRadius: \"20px\",\r\n          boxShadow:\r\n            \"0 20px 40px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.05)\",\r\n          background: \"linear-gradient(145deg, #1A1A2E 0%, #16213E 100%)\",\r\n          backdropFilter: \"blur(10px)\",\r\n          border: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n        },\r\n      },\r\n    },\r\n    MuiButton: {\r\n      styleOverrides: {\r\n        root: {\r\n          borderRadius: \"12px\",\r\n          textTransform: \"none\",\r\n          padding: \"14px 28px\",\r\n          fontWeight: 600,\r\n          fontSize: \"1rem\",\r\n          transition: \"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",\r\n          \"&:hover\": {\r\n            transform: \"translateY(-2px) scale(1.02)\",\r\n            boxShadow: \"0 10px 25px rgba(99, 102, 241, 0.3)\",\r\n          },\r\n          \"&:disabled\": {\r\n            opacity: 0.6,\r\n            transform: \"none\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    MuiTabs: {\r\n      styleOverrides: {\r\n        root: {\r\n          minHeight: \"48px\",\r\n          \"& .MuiTabs-flexContainer\": {\r\n            gap: \"24px\",\r\n          },\r\n          borderBottom: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n        },\r\n        indicator: {\r\n          background: \"linear-gradient(90deg, #6366F1, #10B981)\",\r\n          height: \"3px\",\r\n          borderRadius: \"2px\",\r\n        },\r\n      },\r\n    },\r\n    MuiTab: {\r\n      styleOverrides: {\r\n        root: {\r\n          minWidth: \"auto\",\r\n          padding: \"12px 24px\",\r\n          fontWeight: 600,\r\n          fontSize: \"1rem\",\r\n          color: \"#94A3B8\",\r\n          borderRadius: \"12px\",\r\n          marginBottom: \"-1px\",\r\n          transition: \"all 0.3s ease\",\r\n          \"&.Mui-selected\": {\r\n            color: \"#F8FAFC\",\r\n            background: \"rgba(99, 102, 241, 0.1)\",\r\n            boxShadow: \"inset 0 -2px 0 rgba(99, 102, 241, 0.5)\",\r\n          },\r\n          \"&:hover\": {\r\n            color: \"#E2E8F0\",\r\n            background: \"rgba(255, 255, 255, 0.05)\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      styleOverrides: {\r\n        root: {\r\n          \"& .MuiOutlinedInput-root\": {\r\n            borderRadius: \"12px\",\r\n            backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n            backdropFilter: \"blur(10px)\",\r\n            border: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n            transition: \"all 0.3s ease\",\r\n            \"& fieldset\": {\r\n              borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n            },\r\n            \"&:hover fieldset\": {\r\n              borderColor: \"#6366F1\",\r\n              backgroundColor: \"rgba(99, 102, 241, 0.05)\",\r\n            },\r\n            \"&.Mui-focused fieldset\": {\r\n              borderColor: \"#6366F1\",\r\n              backgroundColor: \"rgba(99, 102, 241, 0.08)\",\r\n              boxShadow: \"0 0 0 3px rgba(99, 102, 241, 0.1)\",\r\n            },\r\n          },\r\n          \"& .MuiInputLabel-root\": {\r\n            color: \"#94A3B8\",\r\n            fontWeight: 500,\r\n          },\r\n          \"& .MuiInputLabel-root.Mui-focused\": {\r\n            color: \"#6366F1\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    MuiAlert: {\r\n      styleOverrides: {\r\n        root: {\r\n          borderRadius: \"12px\",\r\n          marginBottom: \"20px\",\r\n          background: \"rgba(255, 255, 255, 0.1)\",\r\n          backdropFilter: \"blur(10px)\",\r\n          border: \"1px solid rgba(255, 255, 255, 0.2)\",\r\n          fontWeight: 500,\r\n        },\r\n      },\r\n    },\r\n    MuiCheckbox: {\r\n      styleOverrides: {\r\n        root: {\r\n          color: \"#94A3B8\",\r\n          \"&.Mui-checked\": {\r\n            color: \"#6366F1\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    MuiFormControlLabel: {\r\n      styleOverrides: {\r\n        root: {\r\n          marginTop: \"8px\",\r\n          \"& .MuiTypography-root\": {\r\n            fontSize: \"0.875rem\",\r\n            color: \"#94A3B8\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n  typography: {\r\n    h5: {\r\n      fontWeight: 700,\r\n      color: \"#F8FAFC\",\r\n      letterSpacing: \"-0.025em\",\r\n    },\r\n    h6: {\r\n      fontWeight: 500,\r\n      color: \"#CBD5E1\",\r\n      fontSize: \"0.875rem\",\r\n      letterSpacing: \"0.1em\",\r\n      textTransform: \"uppercase\",\r\n    },\r\n    body2: {\r\n      color: \"#94A3B8\",\r\n    },\r\n  },\r\n  shape: {\r\n    borderRadius: 12,\r\n  },\r\n});\r\n\r\n// Wrapper for auto-login & token validation\r\nconst MainApp = () => {\r\n  const { token, userType, setToken, setUserType, setUsername, setUserId } =\r\n    useContext(UserContext);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    // Only run if we have a token\r\n    if (!token) return;\r\n\r\n    try {\r\n      const decoded = jwtDecode(token);\r\n      const exp = decoded.exp * 1000;\r\n      const now = Date.now();\r\n\r\n      if (now >= exp) {\r\n        // Token expired → log out\r\n        setToken(null);\r\n        setUserType(null);\r\n        setUsername(null);\r\n        setUserId(null);\r\n        sessionStorage.clear();\r\n        toast.error(\"Session expired. Please log in again.\");\r\n        navigate(\"/\", { replace: true });\r\n      } else if (location.pathname === \"/\") {\r\n        // Only redirect from login page if already logged in\r\n        if (userType === \"User\") navigate(\"/user/home\", { replace: true });\r\n        else if (userType === \"Admin\")\r\n          navigate(\"/admin/home\", { replace: true });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Token decode error:\", err);\r\n      setToken(null);\r\n      setUserType(null);\r\n      setUsername(null);\r\n      setUserId(null);\r\n      sessionStorage.clear();\r\n      toast.error(\"Invalid token. Please log in again.\");\r\n      navigate(\"/\", { replace: true });\r\n    }\r\n  }, [\r\n    token,\r\n    userType,\r\n    navigate,\r\n    location.pathname,\r\n    setToken,\r\n    setUserType,\r\n    setUsername,\r\n    setUserId,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <MyNavbar />\r\n      <RoutesComponent />\r\n    </>\r\n  );\r\n};\r\n\r\n// Root render\r\nconst AppWrapper = () => (\r\n  <ThemeProvider theme={darkTheme}>\r\n    <UserProvider>\r\n      <CssBaseline />\r\n      <Router>\r\n        <MainApp />\r\n      </Router>\r\n    </UserProvider>\r\n  </ThemeProvider>\r\n);\r\n\r\nconst root = createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <AppWrapper />\r\n  </React.StrictMode>\r\n);\r\n\r\nif (module.hot) {\r\n  module.hot.accept();\r\n}\r\n","__webpack_require__.h = () => (\"59f10cebcaeaeb1d8b4e\")"],"names":["React","useContext","useEffect","createRoot","BrowserRouter","Router","useLocation","useNavigate","ThemeProvider","createTheme","CssBaseline","toast","ToastContainer","jwtDecode","RoutesComponent","MyNavbar","UserProvider","UserContext","darkTheme","palette","mode","primary","main","light","dark","secondary","background","paper","text","divider","components","MuiCard","styleOverrides","root","borderRadius","boxShadow","backdropFilter","border","MuiButton","textTransform","padding","fontWeight","fontSize","transition","transform","opacity","MuiTabs","minHeight","gap","borderBottom","indicator","height","MuiTab","minWidth","color","marginBottom","MuiTextField","backgroundColor","borderColor","MuiAlert","MuiCheckbox","MuiFormControlLabel","marginTop","typography","h5","letterSpacing","h6","body2","shape","MainApp","_useContext","token","userType","setToken","setUserType","setUsername","setUserId","navigate","location","decoded","exp","now","Date","sessionStorage","clear","error","replace","pathname","err","console","createElement","Fragment","AppWrapper","theme","document","getElementById","render","StrictMode","module","hot","accept"],"sourceRoot":""}